(function(d,h,m,n){var g=d(this),j=g.scrollTop()||h.pageYOffset,e=!1,f={init:function(a){return this.each(function(){var b=d(this),c=b.data("hook");"undefined"===typeof c?(c=d.extend({},{reloadPage:!0,dynamic:!0,textRequired:!1,scrollWheelSelected:!1,swipeDistance:50,swipeArea:200,loaderClass:"hook-loader",spinnerClass:"hook-spinner",loaderTextClass:"hook-text",loaderText:"Reloading...",locationHref:!1,reloadEl:function(){}},a),b.data("hook",c)):c=d.extend({},c,a);if(!0===c.dynamic){var e="<div class="+c.loaderClass+">",e=e+("<div class="+c.spinnerClass+"/>"),h="<span class="+c.loaderTextClass+">"+c.loaderText+"</span>";b.append(e+"</div>");!0===c.textRequired&&(b.addClass("hook-with-text"),b.append(h))}if(m.ontouchstart===n)if(!0===c.scrollWheelSelected)g.on("mousewheel",function(a,d){f.onScroll(b,c,d)});else g.on("scroll",function(){f.onScroll(b,c)});else{var l=0,k=0;g.on("touchstart",function(a){l=a.originalEvent.touches[0].pageY});g.on("touchmove",function(a){k=a.originalEvent.touches[0].pageY+l;j=d(this).scrollTop();k<c.swipeDistance&&a.preventDefault();if(k>c.swipeDistance&&l<=c.swipeArea)f.onSwipe(b,c)});g.on("touchend",function(){k=0})}})},onScroll:function(a,b,c){j=g.scrollTop();!0===b.scrollWheelSelected&&(150<=c&&0>=j)&&!1===e&&(f.reload(a,b),e=!0);!1===b.scrollWheelSelected&&0>=j&&!1===e&&(f.reload(a,b),e=!0)},onSwipe:function(a,b){0>=j&&f.reload(a,b)},reload:function(a,b){a.show();a.animate({marginTop:"0px"},200);a.delay(500).slideUp(200,function(){b.reloadPage&&(b.locationHref?h.location.href=b.locationHref:h.location.reload(!0));e=!1});b.reloadPage||b.reloadEl()},destroy:function(){return d(this).each(function(){var a=d(this);a.empty();a.removeData("hook")})}};d.fn.hook=function(){var a=arguments[0];if(f[a])a=f[a],arguments=Array.prototype.slice.call(arguments,1);else if("object"===typeof a||!a)a=f.init;else return d.error("Method "+a+" does not exist on jQuery.pluginName"),this;return a.apply(this,arguments)}})(jQuery,window,document);